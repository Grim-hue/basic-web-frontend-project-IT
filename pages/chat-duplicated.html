<!DOCTYPE html>
<html lang="en">
<!-- Duplicate chat for presentation
this chat will always search for the opposite user to the logged in one -->

<head>
        <meta charset="UTF-8"> <!-- Sets the character encoding for the document -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" > <!-- Ensures compatibility with IE browsers -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" > <!-- Sets viewport for responsive design -->
    <!-- Sets viewport for responsive design -->
    <title>Chat</title> <!-- Title of the web page -->

    <!-- CSS -->
    <link rel="stylesheet" href="../styles/style.css"> <!-- Links the global stylesheet for shared styles -->
    <link rel="stylesheet" href="../styles/chat.css"> <!-- Links a stylesheet specific to the Chat page -->
    <!-- Boxicons -->
    <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet">
    <!-- Includes an external icon library for consistent UI elements -->
</head>

<body>
    <!-- Alert div for displaying error or success messages to the user -->
    <div id="alert">
        <span class="closebtn">&times;</span> <!-- Button to close the alert -->
        <div></div> <!-- Placeholder for alert content -->
    </div>

    <!-- Sidebar navigation menu -->
    <nav id="sidebar-container">
        <div class="logo">
            <i class="bx bx-menu menu-icon"></i> <!-- Icon used for toggling the menu -->
            <span class="logo-name">Echo Link</span> <!-- Displays the name of the application -->
        </div>

        <!-- Dark mode toggle button -->
        <div>
            <button id="dark-mode-toggle" class="bx toggle-button" aria-label="switch theme" type="button">
                <i id="moon-sun" class="bx bxs-moon"></i> <!-- Icon for toggling between light and dark modes -->
            </button>
        </div>

        <!-- Sidebar menu items -->
        <div class="sidebar">
            <div class="logo">
                <i class="bx bx-menu menu-icon"></i> <!-- Repeated menu icon for sidebar consistency -->
                <span class="logo-name">Echo Link</span> <!-- Sidebar branding -->
            </div>

            <div class="sidebar-content">
                <!-- List of primary navigation links -->
                <ul class="lists">
                    <li class="list">
                        <a href="index.html" class="nav-link">
                            <i class="bx bx-home-alt icon"></i> <!-- Icon representing the Dashboard -->
                            <span class="link">Dashboard</span>
                        </a>
                    </li>
                    <li class="list">
                        <a href="chat.html" class="nav-link">
                            <i class="bx bx-message-rounded icon"></i> <!-- Icon representing the Messages page -->
                            <span class="link">Messages</span>
                        </a>
                    </li>
                    <li class="list">
                        <a href="aboutus.html" class="nav-link">
                            <i class="bx bx-info-circle icon"></i> <!-- Icon for the About Us page -->
                            <span class="link">About us</span>
                        </a>
                    </li>
                </ul>

                <!-- Logout link -->
                <ul class="lists">
                    <li class="list">
                        <a href="#" onclick="logout()" class="nav-link">
                            <i class="bx bx-log-out icon"></i> <!-- Icon for logging out -->
                            <span class="link">Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Menu overlay for toggling sidebar in responsive designs -->
    <section class="overlay"></section>

    <!-- Main content area of the page -->

    <div class="main">

        <!-- Chat box container for displaying chat UI -->
        <div class="chat-box">
            <div class="chat-wrapper">
                <!-- Left panel containing a list of chat contacts -->
                <div class="massages">
                    <section>
                        <!-- Example of a selected contact with dynamic user info -->
                        <div class="contact selected">
                            <!-- Link to the chat page for the selected contact -->
                            <a href="chat.html">
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <!-- Profile picture and dynamic name of the selected contact -->
                                        <img src="../images/profile_6.png" id="otherUserPFP"
                                            alt="Other user profile picture">
                                        <p id="otherUserName"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat1.html">
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_1.png"
                                            alt="Ethan Williams profile picture"><!-- Static img -->
                                        <p>Ethan Williams</p> <!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat2.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_2.png"
                                            alt="Olivia Smith profile picture"><!-- Static img -->
                                        <p>Olivia Smith</p> <!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat3.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_3.png"
                                            alt="Lucas Johnson profile picture"><!-- Static img -->
                                        <p>Lucas Johnson</p> <!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat4.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_4.png"
                                            alt="Ava Brown profile picture"><!-- Static img -->
                                        <p>Ava Brown</p> <!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat5.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_5.png"
                                            alt="Mason Davis profile picture"><!-- Static img -->
                                        <p>Mason Davis</p><!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat6.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_6.png"
                                            alt="Isabella Miller profile picture"><!-- Static img -->
                                        <p>Isabella Miller</p><!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                        <!-- Static contacts -->
                        <div class="contact">
                            <!-- Contact includes a link to their corresponding chat page -->
                            <a href="fake_chat7.html" >
                                <div class="contact-btn">
                                    <div class="flex-center">
                                        <img src="../images/profile_7.png" alt="James Anderson profile picture">
                                        <!-- Static img -->
                                        <p>James Anderson</p><!-- Static contact name -->
                                    </div>
                                </div>
                            </a>
                        </div>
                    </section>
                    <!-- Back option to navigate to home page from the chat UI -->
                    <a href="index.html" >
                        <div class="back-option">
                            <div class="contact-btn">
                                <div class="flex-center">
                                    <i class="bx bx-left-arrow-alt"></i> <!-- Back icon -->
                                    <p> Back</p> <!-- Back text -->
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <!-- Vertical divider between contact list and main chat -->
                <hr class="vertical">

                <!-- Main chat area displaying messages and input -->
                <div class="main-chat">

                    <!-- Section for displaying sent and received messages -->
                    <section class="text">

                        <!-- Left-aligned message placeholder from another user -->
                        <div>
                            <div class="message-box-left">
                            </div>
                        </div>

                        <!-- Right-aligned message placeholder from the current user -->
                        <div class="right-box">
                            <div class="message-box-right">
                            </div>
                        </div>
                    </section>

                    <!-- Horizontal divider for spacing -->
                    <hr class="mb-10">
                    <!-- Message input form -->
                    <form>
                        <div class="message-bar-wrapper">
                            <!-- Dynamic user's profile icon next to the message input -->
                            <img src="../images/profile.png" class="icon myPFP" alt=" Your Profile Picture">

                            <!-- Input field for entering a new message -->
                            <input class="message-bar" type="text" name="echos" id="echos" placeholder="Message...">

                            <!-- Send message button with an icon -->
                            <i class="bx bxs-paper-plane send-icon"></i>
                            <button type="submit" style="display: none;"></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
        const reverse = true; /*this will reverse the current logged user to the opposite one*/
    </script>
    <!-- Main script for application functionality -->
    <script src="../scripts/script.js"></script>

    <!-- Script for handling message sending/writing via the localstorage -->
    <script src="../scripts/fuctional-chat.js"></script>

    <script>
        //scroll down after loading everything if possible 
        const messagesElem = document.querySelector('.text');
        messagesElem.scrollTop = messagesElem.scrollHeight - messagesElem.clientHeight;
    </script>
</body>

</html>